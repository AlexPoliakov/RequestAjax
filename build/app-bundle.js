webpackJsonp([0],[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();n(1);var r=n(2),o=s(r),u=n(3),l=s(u);new(function(){function e(t){a(this,e),this.elem=t,this.eventOfUsers=this.eventOfUsers.bind(this),this.elem.addEventListener("click",this.eventOfUsers)}return i(e,[{key:"eventOfUsers",value:function(e){this.target=e.target,this.event=e,this.target.classList.contains("create_user")?(new o.default({elem:document.querySelector(".create_user")}),this.user=new l.default):this.target.classList.contains("buttonElem")&&(e.preventDefault(),this.user.eventWithUsers({event:this.event}))}}]),e}())(document.body)},function(e,t){},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=function(){function e(t){s(this,e),this.elem=t.elem,this.listUsers=document.querySelector(".list_users"),this.createUser()}return a(e,[{key:"createUser",value:function(){this.container=document.createElement("div"),this.container.classList.add("container_form"),this.container.setAttribute("data-id","new"),this.createForm(),this.listUsers.appendChild(this.container)}},{key:"createForm",value:function(){this.formElem=document.createElement("form"),this.formElem.classList.add("form_users"),this.pElemName=document.createElement("p"),this.pElemName.classList.add("nameInput"),this.pElemName.innerHTML="First name: ",this.pElemLastName=document.createElement("p"),this.pElemLastName.classList.add("lastNameInput"),this.pElemLastName.innerHTML="Last name: ",this.lastNameElem=document.createElement("input"),this.lastNameElem.classList.add("form_lastName"),this.nameElem=document.createElement("input"),this.nameElem.classList.add("form_name"),this.buttonAdd=document.createElement("button"),this.buttonAdd.classList.add("add_user"),this.buttonAdd.classList.add("buttonElem"),this.buttonAdd.innerHTML="Add User",this.buttonDelete=document.createElement("button"),this.buttonDelete.classList.add("delete_user"),this.buttonDelete.classList.add("buttonElem"),this.buttonDelete.innerHTML="Delete User",this.container.appendChild(this.formElem),this.formElem.appendChild(this.pElemName),this.pElemName.appendChild(this.nameElem),this.formElem.appendChild(this.pElemLastName),this.pElemLastName.appendChild(this.lastNameElem),this.formElem.appendChild(this.buttonAdd),this.formElem.appendChild(this.buttonDelete)}}]),e}();t.default=i},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=function(){function e(){s(this,e),this.eventWithUsers=this.eventWithUsers.bind(this)}return a(e,[{key:"eventWithUsers",value:function(e){if(this.target=e.event.target,this.conteiner=this.target.closest(".container_form"),this.way=this.conteiner.dataset.id,this.target.classList.contains("add_user")){if(this.name=this.target.parentNode.querySelector(".form_name").value,this.surname=this.target.parentNode.querySelector(".form_lastName").value,"new"!==this.way)return void this.requestPatch();this.requestPost(),this.target.innerHTML="Choose data"}else this.target.classList.contains("delete_user")&&this.requestDelete();(0,r.default)(this.opt)}},{key:"requestPatch",value:function(){alert("Are you sure you want to change the data?"),this.opt={method:"PATCH",url:"https://learnajax-26729.firebaseio.com/users/"+this.way+".json",data:{name:this.name,surname:this.surname}},(0,r.default)(this.opt)}},{key:"requestPost",value:function(){var e=this;this.opt={method:"POST",url:"https://learnajax-26729.firebaseio.com/users.json",data:{name:this.name,surname:this.surname},onload:function(){var t=JSON.parse(this.response),n=t.name;e.conteiner.dataset.id=n}}}},{key:"requestDelete",value:function(){this.opt={method:"DELETE",url:"https://learnajax-26729.firebaseio.com/users/"+this.way+".json"},this.conteiner.remove()}}]),e}();t.default=o},function(e,t,n){"use strict";function s(e){var t=e.method,n=e.url,s=e.onload,a=e.data,i=new XMLHttpRequest;i.open(t,n),i.setRequestHeader("Content-type","application/json"),i.onload=s,i.onreadystatechange=function(){i.readyState,this.DONE},i.send(JSON.stringify(a))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s}],[0]);